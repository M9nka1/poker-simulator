# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ Raise –∏ Call

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ –ø—Ä–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å raise –∏ call —Å—Ç–µ–∫–∏ –∏–≥—Ä–æ–∫–æ–≤ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª–∏—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü–æ—Å–ª–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ —Ñ–ª–æ–ø–µ —É –∏–≥—Ä–æ–∫–æ–≤ –æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ä–∞–∑–Ω—ã–µ —Å—Ç–µ–∫–∏.

### –ü—Ä–∏–º–µ—Ä –∏–∑ Hand History
```
*** FLOP *** [6c 2h 3h]
Pio_OOP_3bet_SB: bets $58
Pio_IP_c3bBU: raises $202
Pio_OOP_3bet_SB: calls $202
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±–∞ –∏–≥—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å—Ç–µ–∫–∏ –ø–æ—Å–ª–µ —ç—Ç–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π.
**–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–µ–∫–∏ –±—ã–ª–∏ —Ä–∞–∑–Ω—ã–º–∏.

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø–æ–∫–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏

–í –ø–æ–∫–µ—Ä–Ω—ã—Ö hand history:
- `bets $58` - –∏–≥—Ä–æ–∫ —Å—Ç–∞–≤–∏—Ç $58
- `raises $202` - –∏–≥—Ä–æ–∫ –¥–æ–ø–ª–∞—á–∏–≤–∞–µ—Ç $202 **—Å–≤–µ—Ä—Ö** —É–∂–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö $58, –æ–±—â–∞—è —Å—Ç–∞–≤–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è $260
- `calls $202` - –∏–≥—Ä–æ–∫ –¥–æ–ø–ª–∞—á–∏–≤–∞–µ—Ç $202 –¥–æ –æ–±—â–µ–π —Å—Ç–∞–≤–∫–∏ $260

### –ü—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–¥–µ

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç call amount** –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è call** –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏
3. **–ù–µ—Ç–æ—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ canCheck/canCall**

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ Call Amount (–∫–ª–∏–µ–Ω—Ç)

**–ë—ã–ª–æ:**
```javascript
const getCallAmount = (): number => {
  // –ù–∞—Ö–æ–¥–∏–º –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç–∞–≤–∫—É –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞
  const lastBetAction = otherPlayerActions
    .filter(a => a.action === 'bet' || a.action === 'raise')
    .pop();
  
  return Math.min(lastBetAction.amount || 0, currentPlayer.stack);
};
```

**–°—Ç–∞–ª–æ:**
```javascript
const getCallAmount = (): number => {
  // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â–∏–µ —Å—Ç–∞–≤–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–∞ —Ç–µ–∫—É—â–µ–π —É–ª–∏—Ü–µ
  const getPlayerStreetTotal = (player: any) => {
    return player.actions
      .filter((a: any) => a.street === table.currentStreet && 
              (a.action === 'bet' || a.action === 'raise' || a.action === 'call'))
      .reduce((total: number, action: any) => total + (action.amount || 0), 0);
  };
  
  const opponentTotal = getPlayerStreetTotal(otherPlayer);
  const myTotal = getPlayerStreetTotal(currentPlayer);
  
  // Call amount = —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ç–∞–≤–∫–∞–º–∏
  const callAmount = Math.max(0, opponentTotal - myTotal);
  return Math.min(callAmount, currentPlayer.stack);
};
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ Call (—Å–µ—Ä–≤–µ—Ä)

**–ë—ã–ª–æ:**
```javascript
const expectedCallAmount = Math.min(lastBetAction.amount, currentPlayer.stack);
```

**–°—Ç–∞–ª–æ:**
```javascript
// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—É–º–º—É call
const opponentTotal = this.getStreetTotal(otherPlayer, table.currentStreet);
const myTotal = this.getStreetTotal(currentPlayer, table.currentStreet);
const expectedCallAmount = Math.min(opponentTotal - myTotal, currentPlayer.stack);
```

### 3. –£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ Check/Call

**–ë—ã–ª–æ:** –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–°—Ç–∞–ª–æ:**
```javascript
const canCheck = (): boolean => {
  const callAmount = getCallAmount();
  return callAmount === 0;
};

const canCall = (): boolean => {
  const callAmount = getCallAmount();
  return callAmount > 0;
};
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
```
–ù–∞—á–∞–ª—å–Ω—ã–µ —Å—Ç–µ–∫–∏: P1=‚Ç¨890, P2=‚Ç¨890, –ë–∞–Ω–∫=‚Ç¨230

1. P2 bets ‚Ç¨58
   ‚Üí P1=‚Ç¨890, P2=‚Ç¨832, –ë–∞–Ω–∫=‚Ç¨288

2. P1 raises ‚Ç¨260 (–æ–±—â–∞—è —Å—Ç–∞–≤–∫–∞ ‚Ç¨260)
   ‚Üí P1=‚Ç¨630, P2=‚Ç¨832, –ë–∞–Ω–∫=‚Ç¨548

3. P2 calls ‚Ç¨202 (–¥–æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –¥–æ ‚Ç¨260)
   ‚Üí P1=‚Ç¨630, P2=‚Ç¨630, –ë–∞–Ω–∫=‚Ç¨750

–ò—Ç–æ–≥: –û–±–∞ –∏–≥—Ä–æ–∫–∞ –≤–ª–æ–∂–∏–ª–∏ –ø–æ ‚Ç¨260, —Å—Ç–µ–∫–∏ —Ä–∞–≤–Ω—ã ‚úÖ
```

## –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø–æ–∫–µ—Ä–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

1. **Bet** - –ø–µ—Ä–≤–∞—è —Å—Ç–∞–≤–∫–∞ –Ω–∞ —É–ª–∏—Ü–µ
2. **Raise** - —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ (–æ–±—â–∞—è —Å—É–º–º–∞, –Ω–µ –¥–æ–ø–ª–∞—Ç–∞)
3. **Call** - —É—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ (–¥–æ–ø–ª–∞—Ç–∞ –¥–æ –æ–±—â–µ–π —Å—É–º–º—ã)

### –†–∞—Å—á–µ—Ç Call Amount

```
Call Amount = –û–±—â–∞—è —Å—Ç–∞–≤–∫–∞ –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞ - –ú–æ—è –æ–±—â–∞—è —Å—Ç–∞–≤–∫–∞ –Ω–∞ —É–ª–∏—Ü–µ
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π

- **Check –¥–æ—Å—Ç—É–ø–µ–Ω** –∫–æ–≥–¥–∞ `Call Amount = 0`
- **Call –¥–æ—Å—Ç—É–ø–µ–Ω** –∫–æ–≥–¥–∞ `Call Amount > 0`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç `test_correct_raise_call.js` –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç call amount
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—á–∏—Ç–∞–Ω–∏–µ –∏–∑ —Å—Ç–µ–∫–æ–≤
- ‚úÖ –†–∞–≤–µ–Ω—Å—Ç–≤–æ —Å—Ç–µ–∫–æ–≤ –ø–æ—Å–ª–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –≤–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±–∞–Ω–∫–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç:
1. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é** –ø–æ–∫–µ—Ä–Ω—ã—Ö hand history
2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã** —Å—Ç–µ–∫–æ–≤ –∏ –±–∞–Ω–∫–∞
3. **–õ–æ–≥–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** –∫–Ω–æ–ø–æ–∫ Check/Call
4. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** —Ä–µ–∞–ª—å–Ω—ã–º –ø–æ–∫–µ—Ä–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º

üéâ **–õ–æ–≥–∏–∫–∞ raise –∏ call —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!** 