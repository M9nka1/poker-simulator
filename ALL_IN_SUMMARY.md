# üî• –†–µ–∑—é–º–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–¥–∞—á–∞ –∫–∞—Ä—Ç –ø—Ä–∏ All-in

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–¥–∞—á–∏ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∫–∞—Ä—Ç –ø—Ä–∏ all-in —Å–∏—Ç—É–∞—Ü–∏—è—Ö, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø–æ–∫–µ—Ä–∞.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ All-in
- **–£—Å–ª–æ–≤–∏–µ 1**: –¢–æ—Ä–≥–∏ –Ω–∞ —É–ª–∏—Ü–µ –∑–∞–≤–µ—Ä—à–µ–Ω—ã
- **–£—Å–ª–æ–≤–∏–µ 2**: –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–≥—Ä–æ–∫ –∏–º–µ–µ—Ç —Å—Ç–µ–∫ = 0
- **–£—Å–ª–æ–≤–∏–µ 3**: –ï—Å—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∫–∞—Ä—Ç—ã –¥–ª—è —Å–¥–∞—á–∏

### üé¥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–¥–∞—á–∞ –∫–∞—Ä—Ç
- **–§–ª–æ–ø ‚Üí –†–∏–≤–µ—Ä**: –ü—Ä–∏ all-in –Ω–∞ —Ñ–ª–æ–ø–µ —Å–¥–∞—é—Ç—Å—è —Ç—ë—Ä–Ω –∏ —Ä–∏–≤–µ—Ä
- **–¢—ë—Ä–Ω ‚Üí –†–∏–≤–µ—Ä**: –ü—Ä–∏ all-in –Ω–∞ —Ç—ë—Ä–Ω–µ —Å–¥–∞–µ—Ç—Å—è —Ä–∏–≤–µ—Ä
- **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä—É–∫–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### server/poker-engine.js:
```javascript
// –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
isAllInSituation(table) {
  return this.shouldAdvanceStreet(table) && 
         (player1.stack === 0 || player2.stack === 0);
}

dealRemainingCards(table) {
  while (table.currentStreet !== 'river') {
    this.advanceStreet(table);
  }
  table.handComplete = true;
  table.winner = this.determineWinner(table);
}

// –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
processAction() {
  if (this.isAllInSituation(table)) {
    this.dealRemainingCards(table);
  } else {
    // –û–±—ã—á–Ω–∞—è –ª–æ–≥–∏–∫–∞
  }
}
```

## üéÆ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### All-in –Ω–∞ —Ñ–ª–æ–ø–µ:
```
Player 1: bet ‚Ç¨1000 (all-in) ‚Üí —Å—Ç–µ–∫: ‚Ç¨0
Player 2: call ‚Ç¨1000 ‚Üí —Å—Ç–µ–∫: ‚Ç¨0
‚Üí üé¥ –ê–≤—Ç–æ—Å–¥–∞—á–∞: —Ñ–ª–æ–ø ‚Üí —Ç—ë—Ä–Ω ‚Üí —Ä–∏–≤–µ—Ä
‚Üí üèÜ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
```

### All-in –Ω–∞ —Ç—ë—Ä–Ω–µ:
```
Player 1: bet ‚Ç¨500 (all-in) ‚Üí —Å—Ç–µ–∫: ‚Ç¨0  
Player 2: call ‚Ç¨500 ‚Üí —Å—Ç–µ–∫: ‚Ç¨200
‚Üí üé¥ –ê–≤—Ç–æ—Å–¥–∞—á–∞: —Ç—ë—Ä–Ω ‚Üí —Ä–∏–≤–µ—Ä
‚Üí üèÜ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
```

### –û–±—ã—á–Ω–∞—è –∏–≥—Ä–∞:
```
Player 1: bet ‚Ç¨100 ‚Üí —Å—Ç–µ–∫: ‚Ç¨900
Player 2: call ‚Ç¨100 ‚Üí —Å—Ç–µ–∫: ‚Ç¨900
‚Üí üîÑ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —É–ª–∏—Ü—É
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–¥–∞—á–∞ –∫–∞—Ä—Ç –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø–æ–∫–µ—Ä–µ
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö all-in —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### ‚ö° –£–ª—É—á—à–µ–Ω–Ω—ã–π UX:
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
- –ë—ã—Å—Ç—Ä–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ all-in —Å–∏—Ç—É–∞—Ü–∏–π

### üîÑ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ñ–ª–æ–ø–µ –∏ —Ç—ë—Ä–Ω–µ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—ã—á–Ω—É—é –ª–æ–≥–∏–∫—É –¥–ª—è –Ω–µ-all-in

## üìã –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

```
‚úÖ server/poker-engine.js - –ª–æ–≥–∏–∫–∞ all-in
‚úÖ test_all_in_logic.js - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ ALL_IN_FEATURE.md - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚úÖ ALL_IN_SUMMARY.md - –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥–∞:
```bash
node test_all_in_logic.js
```

### –í –∏–≥—Ä–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000` –≤ –¥–≤—É—Ö –æ–∫–Ω–∞—Ö
2. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å –∫–∞–∫ Player 1 –∏ Player 2
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ all-in –Ω–∞ —Ñ–ª–æ–ø–µ –∏ —Ç—ë—Ä–Ω–µ

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**All-in —Å–∏—Ç—É–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:**

- üî• **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–¥–∞—á–∞ –∫–∞—Ä—Ç** –ø—Ä–∏ all-in
- üéØ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º –ø–æ–∫–µ—Ä–∞**
- ‚ö° **–ë—ã—Å—Ç—Ä–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ** all-in —Ä—É–∫
- üéÆ **–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**

üí° **–ü–æ–∫–µ—Ä–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä —Å—Ç–∞–ª –µ—â–µ –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º!**

---

üéÆ **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –∏ –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏. 