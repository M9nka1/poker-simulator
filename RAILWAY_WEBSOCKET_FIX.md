# üöÄ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WebSocket –¥–ª—è Railway

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ `web-production-dd601.up.railway.app` WebSocket –ø—ã—Ç–∞–ª—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `localhost:5000` –≤–º–µ—Å—Ç–æ –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–µ—Ä–∞ Railway.

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—ã
–û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª `client/src/services/websocket.ts`:
- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: `ws://localhost:5000` –∏–ª–∏ `wss://localhost:5000`
- **–ü—Ä–æ–¥–∞–∫—à–Ω (Railway)**: `wss://web-production-dd601.up.railway.app` (–±–µ–∑ –ø–æ—Ä—Ç–∞)

### 2. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ä–µ–¥–µ (Development/Production)
- URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è WebSocket
- –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 3. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞
–ö–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å –Ω–æ–≤—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ –ø–∞–ø–∫—É `client/build/`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–ø–æ—Å–æ–± 1: –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ `test_railway_websocket.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –µ—ë –Ω–∞ Railway –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WebSocket

### –°–ø–æ—Å–æ–± 2: –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `web-production-dd601.up.railway.app`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é —Å ID: `a2f9a25c-03cf-4758-93c1-791a28bc139a`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å üü¢ –û–Ω–ª–∞–π–Ω

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏

### –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```
‚úÖ WebSocket connected to: wss://web-production-dd601.up.railway.app
üåê Environment: Production
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```
‚ùå WebSocket error: [–æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏]
üîó Trying to connect to: wss://web-production-dd601.up.railway.app
üåê Current location: https://web-production-dd601.up.railway.app/
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ –°—Ç–∞—Ç—É—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç üü¢ –û–Ω–ª–∞–π–Ω –≤–º–µ—Å—Ç–æ üî¥ –û—Ñ–ª–∞–π–Ω
- ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ –∏ –¥–µ–ª–∞—Ç—å —Ö–æ–¥—ã
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å session ID: `a2f9a25c-03cf-4758-93c1-791a28bc139a`

## üö® –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** –Ω–∞ –æ—à–∏–±–∫–∏ WebSocket
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebSocket** –Ω–∞ Railway
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Railway** - –≤–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å WebSocket support
4. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä** –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∫–µ—à–µ–º

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è URL:
```typescript
const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';

if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
  // –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
  wsUrl = `${protocol}//${window.location.hostname}:5000`;
} else {
  // –ü—Ä–æ–¥–∞–∫—à–Ω (Railway)
  wsUrl = `${protocol}//${window.location.host}`;
}
```

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- ‚úÖ `client/src/services/websocket.ts` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
- ‚úÖ `client/build/` - –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç
- ‚úÖ `test_railway_websocket.html` - —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 